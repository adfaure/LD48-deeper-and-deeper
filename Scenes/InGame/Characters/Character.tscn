[gd_scene load_steps=277 format=2]

[ext_resource path="res://Assets/icon.png" type="Texture" id=1]
[ext_resource path="res://Scripts/StateMachine.gd" type="Script" id=2]
[ext_resource path="res://Assets/Animations/Character/Rope/Iddle.png" type="Texture" id=3]
[ext_resource path="res://Assets/Animations/Character/Push/Push.png" type="Texture" id=4]
[ext_resource path="res://Assets/Animations/Character/Iddle/Iddle_resized.png" type="Texture" id=5]
[ext_resource path="res://Assets/Animations/Character/Jump/Jump.png" type="Texture" id=6]
[ext_resource path="res://Assets/Animations/Character/Rope/Up.png" type="Texture" id=7]
[ext_resource path="res://Assets/Animations/Character/Run/Run.png" type="Texture" id=8]
[ext_resource path="res://Assets/Animations/Character/Rope/Down.png" type="Texture" id=9]

[sub_resource type="GDScript" id=1]
script/source = "extends KinematicBody2D

# Physics properties
export (float) var gravity_scale = 12
export (Vector2) var jump_speed= Vector2(128, 0)
export (Vector2) var jump_impulse= Vector2(0, -500)
export (Vector2) var speed= Vector2(200,0)
export (Vector2) var climbing_speed = Vector2(0, 300)
export (Vector2) var gravity = Vector2(0,98)
export (float) var interrupt_jump_factor = 0.7

var velocity = Vector2.ZERO

func integrate_with_snap(delta : float, velocity : Vector2, snap : Vector2):
	velocity += gravity * delta * gravity_scale
	return move_and_slide_with_snap(velocity, snap, Vector2.ZERO,true,4,0.9)
	
func integrate(delta : float, velocity):
	velocity += gravity * delta * gravity_scale
	return move_and_slide(velocity) 
	
func integrate_without_gravity(velocity : Vector2):
	return move_and_slide(velocity)

# Number of item available by type
var _inventory = {
	GlobalData.OBJECT_TYPE.ROPE: 1,
	GlobalData.OBJECT_TYPE.LADDER: 2
}

var current_item = GlobalData.OBJECT_TYPE.LADDER

func _ready():
	Events.connect(\"ladder_placed_signal\", self, \"_on_ladder_placed_signal\")

func _input(event : InputEvent):
	if event.is_action_pressed(\"ui_focus_next\"):
		_next_item()
	elif event.is_action_pressed(\"ui_focus_prev\"):
		_previous_item()

func set_inventory(inventory):
	_inventory = inventory

func get_item_number(item):
	if _inventory.has(item):
		return _inventory[item]
	return 0

func current_item_used():
	_inventory[current_item] -= 1
	if _inventory[current_item] == 0:
		current_item = GlobalData.OBJECT_TYPE.NONE

func _next_item():
	current_item += 1
	if current_item >= GlobalData.OBJECT_TYPE.size():
		current_item = GlobalData.OBJECT_TYPE.NONE
	
	print(current_item)

func _previous_item():
	current_item -= 1
	if current_item < 0:
		current_item = GlobalData.OBJECT_TYPE.size()-1
	
	print(current_item)

func _on_ladder_placed_signal():
	_inventory[GlobalData.OBJECT_TYPE.LADDER] -= 1
"

[sub_resource type="GDScript" id=2]
resource_name = "Normal"
script/source = "extends Node

var fsm: StateMachine

onready var CrateDetectorRight : RayCast2D = get_parent().get_parent().find_node(\"CrateDetectorRight\", false)
onready var CrateDetectorLeft : RayCast2D = get_parent().get_parent().find_node(\"CrateDetectorLeft\", false)
onready var center: Area2D = get_parent().get_parent().find_node(\"Area2D\", false)
onready var ground_area: Area2D = get_parent().get_parent().find_node(\"GroundArea\", false)
onready var platform_detector : RayCast2D = get_parent().get_parent().find_node(\"PlatformDetector\")
onready var platform_detector_corner_left : RayCast2D = get_parent().get_parent().find_node(\"PlatformDetectorCornerLeft\")
onready var platform_detector_corner_right : RayCast2D = get_parent().get_parent().find_node(\"PlatformDetectorCornerRight\")
onready var _player : KinematicBody2D = get_parent().get_parent()

func is_colliding_to_platform():
	return platform_detector.is_colliding()              or \\
		   platform_detector_corner_left.is_colliding()  or \\
		   platform_detector_corner_right.is_colliding()

func enter(args : Array):
	platform_detector = fsm.player.find_node(\"PlatformDetector\")
	platform_detector_corner_left = fsm.player.find_node(\"PlatformDetectorCornerLeft\")
	platform_detector_corner_right = fsm.player.find_node(\"PlatformDetectorCornerRight\")

func input(event):
	if event.is_action_pressed(\"ui_accept\"):
		_use_current_item()

func physics_process(delta):
	var velocity = _player.velocity
	var snap = platform_detector.cast_to

	if is_colliding_to_platform():
		if Input.is_action_pressed(\"ui_right\"):
			velocity.x = _player.speed.x
		elif Input.is_action_pressed(\"ui_left\"):
			velocity.x= -_player.speed.x
		else:
			velocity.x=0
			
	if Input.is_action_just_pressed(\"ui_select\") and is_colliding_to_platform():
		snap = Vector2.ZERO
		velocity.y = _player.jump_impulse.y
		_player.velocity = _player.integrate(delta, velocity)
		fsm.change_to(\"Jumping\", [])
		
	_resolve_collisions(velocity)
	
	_update_animation(velocity)

	_player.velocity = _player.integrate_with_snap(delta, velocity, snap)


	
func _update_animation(velocity : Vector2):
	var animated_sprite = fsm.animated_sprite
	if velocity.x > 0:
		animated_sprite.flip_h=false
		animated_sprite.play(\"Walking\")
	elif velocity.x < 0:
		animated_sprite.flip_h=true
		animated_sprite.play(\"Walking\")
	else:
		animated_sprite.play(\"Idle\")

func _resolve_collisions(velocity : Vector2):
	if is_colliding_to_platform():
		if (CrateDetectorRight.is_colliding() and velocity.x > 0) \\
		or (CrateDetectorLeft.is_colliding() and velocity.x < 0):
			fsm.change_to(\"PushingCrates\", [])
			
	for area in center.get_overlapping_areas():
		if area.get_parent().is_in_group(\"Ladders\") \\
			and (Input.is_action_just_pressed(\"ui_up\") \\
			or Input.is_action_just_pressed(\"ui_down\")):
			fsm.change_to(\"ClimbingLadder\", [area])

	for area in ground_area.get_overlapping_areas():
		if area.is_in_group(\"RopeSpots\") and Input.is_action_just_pressed(\"ui_t\"):
			fsm.change_to(\"ThrowingRope\", [area.get_root_scene()])
		if (area.is_in_group(\"TopRopes\") and Input.is_action_just_pressed(\"ui_down\")) :
			fsm.change_to(\"ClimbingRope\", [area.get_root_scene()])
			
	for area in center.get_overlapping_areas():
		if area.is_in_group(\"Ropes\") and Input.is_action_pressed(\"ui_up\"):
#			Events.emit_signal(\"rope_handled\", fsm.velocity)
			fsm.change_to(\"ClimbingRope\", [area.get_root_scene()])

func is_above(group: String):
	return platform_detector.is_colliding() and platform_detector.get_collider().is_in_group(group) or \\
		   platform_detector_corner_left.is_colliding() and platform_detector_corner_left.get_collider().is_in_group(group) or \\
		   platform_detector_corner_right.is_colliding() and platform_detector_corner_right.get_collider().is_in_group(group) 

func _use_current_item():
	#Â TODO: get_collider from all boxes
	if fsm.player.current_item == GlobalData.OBJECT_TYPE.LADDER \\
		and fsm.player.get_item_number(GlobalData.OBJECT_TYPE.LADDER) > 0 \\
		and is_colliding_to_platform() \\
		and not is_above(\"Boxes\"):
		Events.emit_signal(\"place_ladder_signal\")

func _on_Area2D_area_entered(area):
	if area.is_in_group(\"Ropes\"):
		Events.emit_signal(\"rope_handled\", fsm.player.velocity)
		fsm.change_to(\"ClimbingRope\", [])
"

[sub_resource type="GDScript" id=3]
resource_name = "ClimbingRope"
script/source = "extends Node

var fsm: StateMachine

var _rope : Node2D
onready var _player : KinematicBody2D = get_parent().get_parent()
onready var center: Area2D = get_parent().get_parent().find_node(\"Area2D\", false)
onready var ground_area: Area2D = get_parent().get_parent().find_node(\"GroundArea\", false)

func enter(args : Array):
	_player.velocity = Vector2.ZERO
	_rope = args[0]
	
	fsm.player.position.x = _rope.position.x 
	fsm.player.find_node(\"CollisionShape2D\").disabled = true

func physics_process(delta):
	var velocity = _player.velocity
	if Input.is_action_pressed(\"ui_up\"):
		velocity -= _player.climbing_speed
	if Input.is_action_pressed(\"ui_down\"):
		velocity += _player.climbing_speed
		
	_player.velocity = _player.integrate(delta, velocity)
	
	_resolve_collision()
	
	_update_animation(_player.velocity)
	
	_player.velocity.y = 0
	
func _update_animation(velocity : Vector2):
	var animated_sprite = fsm.animated_sprite
	if velocity.x > 0:
		animated_sprite.flip_h=false
	elif velocity.x < 0:
		animated_sprite.flip_h=true
		
	if velocity.y < 0 and animated_sprite.animation != \"ClimbingRopeUp\":
		animated_sprite.play(\"ClimbingRopeUp\")
	elif velocity.y > 0 and animated_sprite.animation != \"ClimbingRopeDown\":
		animated_sprite.play(\"ClimbingRopeDown\")
	elif animated_sprite.animation != \"ClimbingRopeIdle\":
		animated_sprite.play(\"ClimbingRopeIdle\")

func _resolve_collision():
	if Input.is_action_just_pressed(\"ui_select\"):
		fsm.player.find_node(\"CollisionShape2D\").disabled = false
		fsm.change_to(\"Normal\", [])
		
	for area in center.get_overlapping_areas():
		if area.is_in_group(\"TopRopes\") and Input.is_action_pressed(\"ui_up\"):
			fsm.player.position += Vector2(0, -30) 
			fsm.player.find_node(\"CollisionShape2D\").disabled = false
			fsm.change_to(\"Normal\", [])
	for area in ground_area.get_overlapping_areas():
		if area.is_in_group(\"BottomRopes\") and Input.is_action_pressed(\"ui_down\"):
			fsm.player.find_node(\"CollisionShape2D\").disabled = false
			fsm.change_to(\"Normal\", [])
"

[sub_resource type="GDScript" id=4]
resource_name = "ThrowingRope"
script/source = "extends Node

var fsm: StateMachine

onready var _player : KinematicBody2D = get_parent().get_parent()

#expects rope node
func enter(args : Array):
	Events.emit_signal(\"rope_thrown\", args[0].position, args[0].right)
	yield(get_tree().create_timer(0.6), \"timeout\")
	args[0].monitorable = false
	fsm.change_to(\"Normal\", [])
	
func _update_animation(right : bool):
	var animated_sprite = _player.animated_sprite
	if right:
		animated_sprite.flip_h=false
	elif not right:
		animated_sprite.flip_h=true
		
	animated_sprite.play(\"ClimbingPlatform\")

func physics_process(delta):
	pass
"

[sub_resource type="GDScript" id=5]
resource_name = "CimbingLadder"
script/source = "extends Node

var fsm: StateMachine

var _ladder_area : Area2D

onready var _player : KinematicBody2D = get_parent().get_parent()

func enter(args : Array):
	_player.velocity.x = 0
	_ladder_area = args[0]

func physics_process(delta):
	var velocity = _player.velocity
	if Input.is_action_pressed(\"ui_up\"):
		velocity.y -= _player.climbing_speed.y
	elif Input.is_action_pressed(\"ui_down\"):
		velocity.y += _player.climbing_speed.y
	
	if Input.is_action_pressed(\"ui_right\"):
		velocity.x = _player.speed.x
	elif Input.is_action_pressed(\"ui_left\"):
		velocity.x = -_player.speed.x
	else:
		velocity.x = 0
	
	_player.velocity = _player.integrate_without_gravity(velocity)
	
	_update_animation(_player.velocity)
	
	if Input.is_action_just_pressed(\"ui_select\"):
		_player.velocity.y = _player.jump_impulse.y
		fsm.change_to(\"Jumping\", [])
	else:
		_player.velocity.y = 0

func _update_animation(velocity : Vector2):
	var animated_sprite = fsm.animated_sprite
	if velocity.x > 0:
		animated_sprite.flip_h=false
	elif velocity.x < 0:
		animated_sprite.flip_h=true
		
	if velocity.y < 0 and animated_sprite.animation != \"ClimbingLadderUp\":
		animated_sprite.play(\"ClimbingLadderUp\")
	elif velocity.y > 0 and animated_sprite.animation != \"ClimbingLadderDown\":
		animated_sprite.play(\"ClimbingLadderDown\")
	elif animated_sprite.animation != \"ClimbingLadderIdle\":
		animated_sprite.play(\"ClimbingLadderIdle\")

func _on_Area2D_area_exited(area):
	if area == _ladder_area:
		fsm.change_to(\"Normal\", [])
"

[sub_resource type="GDScript" id=6]
resource_name = "PushingCrates"
script/source = "extends Node

var fsm: StateMachine

onready var CrateDetectorRight : RayCast2D = get_parent().get_parent().find_node(\"CrateDetectorRight\", false)
onready var CrateDetectorLeft : RayCast2D = get_parent().get_parent().find_node(\"CrateDetectorLeft\", false)
onready var platform_detector : RayCast2D = get_parent().get_parent().find_node(\"PlatformDetector\")
onready var center: Area2D = get_parent().get_parent().find_node(\"Area2D\", false)
onready var _player : KinematicBody2D = get_parent().get_parent()

func enter(args : Array):
	pass
	
func physics_process(delta):
	var snap = platform_detector.cast_to
	var velocity = _player.velocity
	if Input.is_action_just_pressed(\"ui_select\") and platform_detector.is_colliding():
		snap = Vector2.ZERO
		velocity.y = _player.jump_impulse.y
		_player.velocity = _player.integrate(delta, velocity)
		fsm.change_to(\"Jumping\", [])
	
	if Input.is_action_pressed(\"ui_right\"):
		velocity.x = _player.speed.x
	elif Input.is_action_pressed(\"ui_left\"):
		velocity.x= -_player.speed.x
	
	if platform_detector.is_colliding():
		if CrateDetectorRight.is_colliding():
			var object = CrateDetectorRight.get_collider()
			if object.is_in_group(\"Boxes\") and velocity.x > 0:
					object.push(velocity / 10.0)
		if CrateDetectorLeft.is_colliding():
			var object = CrateDetectorLeft.get_collider()
			if object.is_in_group(\"Boxes\")  and velocity.x < 0:
				object.push(velocity / 10.0)
	
	_resolve_collision(velocity)

	_update_animation(true if velocity.x > 0 else false)

	_player.velocity = _player.integrate_with_snap(delta, velocity, snap)

	
func _update_animation(right : bool):
	var animated_sprite = fsm.animated_sprite
	if right:
		animated_sprite.flip_h=false
	else:
		animated_sprite.flip_h=true

	if animated_sprite.animation != \"PushingCrate\":
		animated_sprite.play(\"PushingCrate\")
	
func _resolve_collision(velocity : Vector2):
	for area in center.get_overlapping_areas():
		if area.get_parent().is_in_group(\"Ladders\") \\
			and (Input.is_action_just_pressed(\"ui_up\") \\
			or Input.is_action_just_pressed(\"ui_down\")):
			fsm.change_to(\"ClimbingLadder\", [area])
	
	if (velocity.x < 0 and CrateDetectorRight.is_colliding()) \\
	or (velocity.x > 0 and CrateDetectorLeft.is_colliding()) \\
	or velocity.x == 0:
		_player.velocity.x=0
		fsm.change_to(\"Normal\", [])
"

[sub_resource type="GDScript" id=267]
resource_name = "Jumping"
script/source = "extends Node

var fsm: StateMachine

onready var _player : KinematicBody2D = get_parent().get_parent()
onready var center: Area2D = get_parent().get_parent().find_node(\"Area2D\", false)
onready var platform_detector : RayCast2D = get_parent().get_parent().find_node(\"PlatformDetector\")
onready var platform_detector_corner_left : RayCast2D = get_parent().get_parent().find_node(\"PlatformDetectorCornerLeft\")
onready var platform_detector_corner_right : RayCast2D = get_parent().get_parent().find_node(\"PlatformDetectorCornerRight\")

func is_colliding_to_platform():
	return platform_detector.is_colliding()              or \\
		   platform_detector_corner_left.is_colliding()  or \\
		   platform_detector_corner_right.is_colliding()

func enter(args : Array):
	platform_detector = fsm.player.find_node(\"PlatformDetector\")
	platform_detector_corner_left = fsm.player.find_node(\"PlatformDetectorCornerLeft\")
	platform_detector_corner_right = fsm.player.find_node(\"PlatformDetectorCornerRight\")

func physics_process(delta):
	var velocity = _player.velocity
	if Input.is_action_just_released(\"ui_select\"):
		velocity.y *= _player.interrupt_jump_factor

	if Input.is_action_pressed(\"ui_right\"):
		velocity.x = _player.jump_speed.x
	elif Input.is_action_pressed(\"ui_left\"):
		velocity.x= -_player.jump_speed.x
	else:
		velocity.x=0
		
	_resolve_collisions(velocity)
	
	_update_animation(velocity)

	_player.velocity = _player.integrate(delta, velocity)


	
func _update_animation(velocity : Vector2):
	var animated_sprite = fsm.animated_sprite
	if velocity.x > 0:
		animated_sprite.flip_h=false
	elif velocity.x < 0:
		animated_sprite.flip_h=true

	if velocity.y < 0 and animated_sprite.animation != \"JumpingUp\":
		animated_sprite.play(\"JumpingUp\")
	elif velocity.y > 0 and animated_sprite.animation != \"JumpingDown\":
		animated_sprite.play(\"JumpingDown\")

func _resolve_collisions(velocity : Vector2):
#	for area in center.get_overlapping_areas():
#		if area.get_parent().is_in_group(\"Ladders\") \\
#			and (Input.is_action_just_pressed(\"ui_up\") \\
#			or Input.is_action_just_pressed(\"ui_down\")):
#			fsm.change_to(\"ClimbingLadder\", [area])

	for area in center.get_overlapping_areas():
		if area.is_in_group(\"Ropes\") and Input.is_action_pressed(\"ui_up\"):
#			Events.emit_signal(\"rope_handled\", fsm.velocity)
			fsm.change_to(\"ClimbingRope\", [area.get_root_scene()])
	if is_colliding_to_platform() and velocity.y >= 0:
		fsm.change_to(\"Normal\", [])
"

[sub_resource type="RectangleShape2D" id=7]
extents = Vector2( 12.8726, 25.5035 )

[sub_resource type="CircleShape2D" id=8]
radius = 4.84974

[sub_resource type="RectangleShape2D" id=9]
extents = Vector2( 12.8024, 1.71827 )

[sub_resource type="AtlasTexture" id=210]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 1600, 0, 400, 521 )

[sub_resource type="AtlasTexture" id=211]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2000, 0, 400, 521 )

[sub_resource type="AtlasTexture" id=212]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2400, 0, 400, 521 )

[sub_resource type="AtlasTexture" id=213]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2800, 0, 400, 521 )

[sub_resource type="AtlasTexture" id=214]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 3200, 0, 400, 521 )

[sub_resource type="AtlasTexture" id=215]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 3600, 0, 400, 521 )

[sub_resource type="AtlasTexture" id=216]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 0, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=217]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 400, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=218]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 800, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=219]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 1200, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=220]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 1600, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=221]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2000, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=222]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2400, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=223]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2800, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=224]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 3200, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=225]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 3600, 521, 400, 521 )

[sub_resource type="AtlasTexture" id=226]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 0, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=227]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 400, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=228]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 800, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=229]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 1200, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=230]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 1600, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=231]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2000, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=232]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2400, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=233]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 2800, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=234]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 3200, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=235]
flags = 4
atlas = ExtResource( 4 )
region = Rect2( 3600, 1042, 400, 521 )

[sub_resource type="AtlasTexture" id=10]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 0, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=11]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 363, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=12]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 726, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=13]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1089, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=14]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1452, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=15]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1815, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=16]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2178, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=17]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2541, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=18]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2904, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=19]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 3267, 0, 363, 519 )

[sub_resource type="AtlasTexture" id=20]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 0, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=21]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 363, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=22]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 726, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=23]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1089, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=24]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1452, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=25]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1815, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=26]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2178, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=27]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2541, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=28]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2904, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=29]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 3267, 519, 363, 519 )

[sub_resource type="AtlasTexture" id=30]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 0, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=31]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 363, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=32]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 726, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=33]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1089, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=34]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1452, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=35]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1815, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=36]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2178, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=37]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2541, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=38]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2904, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=39]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 3267, 1038, 363, 519 )

[sub_resource type="AtlasTexture" id=40]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 0, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=41]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 363, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=42]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 726, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=43]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1089, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=44]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1452, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=45]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1815, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=46]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2178, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=47]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2541, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=48]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2904, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=49]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 3267, 1557, 363, 519 )

[sub_resource type="AtlasTexture" id=50]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 0, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=51]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 363, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=52]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 726, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=53]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1089, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=54]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1452, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=55]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1815, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=56]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2178, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=57]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2541, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=58]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2904, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=59]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 3267, 2076, 363, 519 )

[sub_resource type="AtlasTexture" id=60]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 0, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=61]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 363, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=62]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 726, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=63]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1089, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=64]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1452, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=65]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1815, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=66]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2178, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=67]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2541, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=68]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2904, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=69]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 3267, 2595, 363, 519 )

[sub_resource type="AtlasTexture" id=70]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 0, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=71]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 363, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=72]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 726, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=73]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1089, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=74]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1452, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=75]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1815, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=76]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2178, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=77]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2541, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=78]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2904, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=79]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 3267, 3114, 363, 519 )

[sub_resource type="AtlasTexture" id=80]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 0, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=81]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 363, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=82]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 726, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=83]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1089, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=84]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1452, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=85]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 1815, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=86]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2178, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=87]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2541, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=88]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 2904, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=89]
flags = 4
atlas = ExtResource( 5 )
region = Rect2( 3267, 3633, 363, 519 )

[sub_resource type="AtlasTexture" id=120]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 0, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=121]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 514, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=122]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 1028, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=123]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 1542, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=124]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 2056, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=125]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 2570, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=126]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 3084, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=127]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 3598, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=128]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 4112, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=129]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 4626, 0, 514, 557 )

[sub_resource type="AtlasTexture" id=130]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 0, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=131]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 514, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=132]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 1028, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=133]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 1542, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=134]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 2056, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=135]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 2570, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=136]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 3084, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=137]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 3598, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=138]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 4112, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=139]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 4626, 557, 514, 557 )

[sub_resource type="AtlasTexture" id=140]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 0, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=141]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 514, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=142]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 1028, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=143]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 1542, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=144]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 2056, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=145]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 2570, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=146]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 3084, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=147]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 3598, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=148]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 4112, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=149]
flags = 4
atlas = ExtResource( 8 )
region = Rect2( 4626, 1114, 514, 557 )

[sub_resource type="AtlasTexture" id=180]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 0, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=181]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 440, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=182]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 880, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=183]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 1320, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=184]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 1760, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=185]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 2200, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=186]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 2640, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=187]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3080, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=188]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3520, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=189]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3960, 0, 440, 591 )

[sub_resource type="AtlasTexture" id=190]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 0, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=191]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 440, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=192]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 880, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=193]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 1320, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=194]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 1760, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=195]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 2200, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=196]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 2640, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=197]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3080, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=198]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3520, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=199]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3960, 591, 440, 591 )

[sub_resource type="AtlasTexture" id=200]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 0, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=201]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 440, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=202]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 880, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=203]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 1320, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=204]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 1760, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=205]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 2200, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=206]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 2640, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=207]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3080, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=208]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3520, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=209]
flags = 4
atlas = ExtResource( 7 )
region = Rect2( 3960, 1182, 440, 591 )

[sub_resource type="AtlasTexture" id=90]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 0, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=91]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 363, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=92]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 726, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=93]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1089, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=94]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1452, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=95]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1815, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=96]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2178, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=97]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2541, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=98]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2904, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=99]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 3267, 0, 363, 587 )

[sub_resource type="AtlasTexture" id=100]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 0, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=101]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 363, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=102]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 726, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=103]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1089, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=104]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1452, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=105]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1815, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=106]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2178, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=107]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2541, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=108]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2904, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=109]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 3267, 587, 363, 587 )

[sub_resource type="AtlasTexture" id=110]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 0, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=111]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 363, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=112]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 726, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=113]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1089, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=114]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1452, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=115]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 1815, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=116]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2178, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=117]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2541, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=118]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 2904, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=119]
flags = 4
atlas = ExtResource( 6 )
region = Rect2( 3267, 1174, 363, 587 )

[sub_resource type="AtlasTexture" id=236]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 0, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=237]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 427, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=238]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 854, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=239]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 1281, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=240]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 1708, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=241]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2135, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=242]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2562, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=243]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2989, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=244]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 3416, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=245]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 3843, 0, 427, 500 )

[sub_resource type="AtlasTexture" id=246]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 0, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=247]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 427, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=248]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 854, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=249]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 1281, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=250]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 1708, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=251]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2135, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=252]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2562, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=253]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2989, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=254]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 3416, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=255]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 3843, 500, 427, 500 )

[sub_resource type="AtlasTexture" id=256]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 0, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=257]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 427, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=258]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 854, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=259]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 1281, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=260]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 1708, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=261]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2135, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=262]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2562, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=263]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 2989, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=264]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 3416, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=265]
flags = 4
atlas = ExtResource( 3 )
region = Rect2( 3843, 1000, 427, 500 )

[sub_resource type="AtlasTexture" id=150]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=151]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 429, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=152]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 858, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=153]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 1287, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=154]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 1716, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=155]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 2145, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=156]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 2574, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=157]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3003, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=158]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3432, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=159]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3861, 0, 429, 500 )

[sub_resource type="AtlasTexture" id=160]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=161]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 429, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=162]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 858, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=163]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 1287, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=164]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 1716, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=165]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 2145, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=166]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 2574, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=167]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3003, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=168]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3432, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=169]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3861, 500, 429, 500 )

[sub_resource type="AtlasTexture" id=170]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 0, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=171]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 429, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=172]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 858, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=173]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 1287, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=174]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 1716, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=175]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 2145, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=176]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 2574, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=177]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3003, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=178]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3432, 1000, 429, 500 )

[sub_resource type="AtlasTexture" id=179]
flags = 4
atlas = ExtResource( 9 )
region = Rect2( 3861, 1000, 429, 500 )

[sub_resource type="SpriteFrames" id=266]
animations = [ {
"frames": [ SubResource( 210 ), SubResource( 211 ), SubResource( 212 ), SubResource( 213 ), SubResource( 214 ), SubResource( 215 ), SubResource( 216 ), SubResource( 217 ), SubResource( 218 ), SubResource( 219 ), SubResource( 220 ), SubResource( 221 ), SubResource( 222 ), SubResource( 223 ), SubResource( 224 ), SubResource( 225 ), SubResource( 226 ), SubResource( 227 ), SubResource( 228 ), SubResource( 229 ), SubResource( 230 ), SubResource( 231 ), SubResource( 232 ), SubResource( 233 ), SubResource( 234 ), SubResource( 235 ) ],
"loop": true,
"name": "PushingCrate",
"speed": 25.0
}, {
"frames": [ SubResource( 10 ), SubResource( 11 ), SubResource( 12 ), SubResource( 13 ), SubResource( 14 ), SubResource( 15 ), SubResource( 16 ), SubResource( 17 ), SubResource( 18 ), SubResource( 19 ), SubResource( 20 ), SubResource( 21 ), SubResource( 22 ), SubResource( 23 ), SubResource( 24 ), SubResource( 25 ), SubResource( 26 ), SubResource( 27 ), SubResource( 28 ), SubResource( 29 ), SubResource( 30 ), SubResource( 31 ), SubResource( 32 ), SubResource( 33 ), SubResource( 34 ), SubResource( 35 ), SubResource( 36 ), SubResource( 37 ), SubResource( 38 ), SubResource( 39 ), SubResource( 40 ), SubResource( 41 ), SubResource( 42 ), SubResource( 43 ), SubResource( 44 ), SubResource( 45 ), SubResource( 46 ), SubResource( 47 ), SubResource( 48 ), SubResource( 49 ), SubResource( 50 ), SubResource( 51 ), SubResource( 52 ), SubResource( 53 ), SubResource( 54 ), SubResource( 55 ), SubResource( 56 ), SubResource( 57 ), SubResource( 58 ), SubResource( 59 ), SubResource( 60 ), SubResource( 61 ), SubResource( 62 ), SubResource( 63 ), SubResource( 64 ), SubResource( 65 ), SubResource( 66 ), SubResource( 67 ), SubResource( 68 ), SubResource( 69 ), SubResource( 70 ), SubResource( 71 ), SubResource( 72 ), SubResource( 73 ), SubResource( 74 ), SubResource( 75 ), SubResource( 76 ), SubResource( 77 ), SubResource( 78 ), SubResource( 79 ), SubResource( 80 ), SubResource( 81 ), SubResource( 82 ), SubResource( 83 ), SubResource( 84 ), SubResource( 85 ), SubResource( 86 ), SubResource( 87 ), SubResource( 88 ), SubResource( 89 ) ],
"loop": true,
"name": "Idle",
"speed": 20.0
}, {
"frames": [  ],
"loop": true,
"name": "ClimbingLadder",
"speed": 25.0
}, {
"frames": [ SubResource( 120 ), SubResource( 121 ), SubResource( 122 ), SubResource( 123 ), SubResource( 124 ), SubResource( 125 ), SubResource( 126 ), SubResource( 127 ), SubResource( 128 ), SubResource( 129 ), SubResource( 130 ), SubResource( 131 ), SubResource( 132 ), SubResource( 133 ), SubResource( 134 ), SubResource( 135 ), SubResource( 136 ), SubResource( 137 ), SubResource( 138 ), SubResource( 139 ), SubResource( 140 ), SubResource( 141 ), SubResource( 142 ), SubResource( 143 ), SubResource( 144 ), SubResource( 145 ), SubResource( 146 ), SubResource( 147 ), SubResource( 148 ), SubResource( 149 ) ],
"loop": true,
"name": "Walking",
"speed": 60.0
}, {
"frames": [ SubResource( 180 ), SubResource( 181 ), SubResource( 182 ), SubResource( 183 ), SubResource( 184 ), SubResource( 185 ), SubResource( 186 ), SubResource( 187 ), SubResource( 188 ), SubResource( 189 ), SubResource( 190 ), SubResource( 191 ), SubResource( 192 ), SubResource( 193 ), SubResource( 194 ), SubResource( 195 ), SubResource( 196 ), SubResource( 197 ), SubResource( 198 ), SubResource( 199 ), SubResource( 200 ), SubResource( 201 ), SubResource( 202 ), SubResource( 203 ), SubResource( 204 ), SubResource( 205 ), SubResource( 206 ), SubResource( 207 ), SubResource( 208 ), SubResource( 209 ) ],
"loop": true,
"name": "ClimbingRopeUp",
"speed": 25.0
}, {
"frames": [ SubResource( 90 ), SubResource( 91 ), SubResource( 92 ), SubResource( 93 ), SubResource( 94 ), SubResource( 95 ), SubResource( 96 ), SubResource( 97 ), SubResource( 98 ), SubResource( 99 ), SubResource( 100 ), SubResource( 101 ), SubResource( 102 ), SubResource( 103 ), SubResource( 104 ), SubResource( 105 ), SubResource( 106 ), SubResource( 107 ), SubResource( 108 ), SubResource( 109 ), SubResource( 110 ), SubResource( 111 ), SubResource( 112 ), SubResource( 113 ), SubResource( 114 ), SubResource( 115 ), SubResource( 116 ), SubResource( 117 ), SubResource( 118 ), SubResource( 119 ) ],
"loop": true,
"name": "JumpingUp",
"speed": 25.0
}, {
"frames": [ SubResource( 236 ), SubResource( 237 ), SubResource( 238 ), SubResource( 239 ), SubResource( 240 ), SubResource( 241 ), SubResource( 242 ), SubResource( 243 ), SubResource( 244 ), SubResource( 245 ), SubResource( 246 ), SubResource( 247 ), SubResource( 248 ), SubResource( 249 ), SubResource( 250 ), SubResource( 251 ), SubResource( 252 ), SubResource( 253 ), SubResource( 254 ), SubResource( 255 ), SubResource( 256 ), SubResource( 257 ), SubResource( 258 ), SubResource( 259 ), SubResource( 260 ), SubResource( 261 ), SubResource( 262 ), SubResource( 263 ), SubResource( 264 ), SubResource( 265 ) ],
"loop": true,
"name": "ClimbingRopeIdle",
"speed": 25.0
}, {
"frames": [ SubResource( 150 ), SubResource( 151 ), SubResource( 152 ), SubResource( 153 ), SubResource( 154 ), SubResource( 155 ), SubResource( 156 ), SubResource( 157 ), SubResource( 158 ), SubResource( 159 ), SubResource( 160 ), SubResource( 161 ), SubResource( 162 ), SubResource( 163 ), SubResource( 164 ), SubResource( 165 ), SubResource( 166 ), SubResource( 167 ), SubResource( 168 ), SubResource( 169 ), SubResource( 170 ), SubResource( 171 ), SubResource( 172 ), SubResource( 173 ), SubResource( 174 ), SubResource( 175 ), SubResource( 176 ), SubResource( 177 ), SubResource( 178 ), SubResource( 179 ) ],
"loop": true,
"name": "ClimbingRopeDown",
"speed": 25.0
} ]

[node name="Character" type="KinematicBody2D"]
script = SubResource( 1 )

[node name="States" type="Node" parent="."]
script = ExtResource( 2 )

[node name="Normal" type="Node" parent="States"]
script = SubResource( 2 )

[node name="ClimbingRope" type="Node" parent="States"]
script = SubResource( 3 )

[node name="ThrowingRope" type="Node" parent="States"]
script = SubResource( 4 )

[node name="ClimbingLadder" type="Node" parent="States"]
script = SubResource( 5 )

[node name="PushingCrates" type="Node" parent="States"]
script = SubResource( 6 )

[node name="Jumping" type="Node" parent="States"]
script = SubResource( 267 )

[node name="Debug" type="Sprite" parent="."]
visible = false
texture = ExtResource( 1 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2( 0, 5.36353 )
shape = SubResource( 7 )

[node name="PlatformDetector" type="RayCast2D" parent="."]
enabled = true
cast_to = Vector2( 0, 35 )

[node name="PlatformDetectorCornerRight" type="RayCast2D" parent="."]
position = Vector2( 8.589, 0 )
enabled = true
cast_to = Vector2( 0, 35 )

[node name="PlatformDetectorCornerLeft" type="RayCast2D" parent="."]
position = Vector2( -9.713, 0 )
enabled = true
cast_to = Vector2( 0, 35 )

[node name="CrateDetectorRight" type="RayCast2D" parent="."]
enabled = true
cast_to = Vector2( 25, 0 )

[node name="CrateDetectorLeft" type="RayCast2D" parent="."]
enabled = true
cast_to = Vector2( -25, 0 )

[node name="Area2D" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 24
__meta__ = {
"_edit_lock_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
shape = SubResource( 8 )

[node name="GroundArea" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 16
__meta__ = {
"_edit_lock_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="GroundArea"]
position = Vector2( 0.0701561, 29.4747 )
shape = SubResource( 9 )

[node name="AnimatedSprite" type="AnimatedSprite" parent="."]
scale = Vector2( 0.119999, 0.119999 )
frames = SubResource( 266 )
animation = "ClimbingRopeUp"
frame = 11
playing = true
__meta__ = {
"_edit_lock_": true
}

[node name="Camera2D" type="Camera2D" parent="."]
current = true

[connection signal="area_exited" from="Area2D" to="States/ClimbingLadder" method="_on_Area2D_area_exited"]
